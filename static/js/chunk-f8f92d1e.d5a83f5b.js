(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f8f92d1e"],{3100:function(t,e,a){"use strict";a("3308")},3308:function(t,e,a){},"3ab2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"input"},[s("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[s("el-form-item",{attrs:{label:"工单编号"}},[s("el-input",{attrs:{placeholder:"工单编号"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),s("el-form-item",{attrs:{label:"工单状态"}},[s("el-select",{attrs:{placeholder:"工单状态"},model:{value:t.formInline.region,callback:function(e){t.$set(t.formInline,"region",e)},expression:"formInline.region"}},[s("el-option",{attrs:{label:"区域一",value:"shanghai"}})],1)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"}},[t._v("查询")])],1)],1)],1),s("div",{staticClass:"button"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-plus"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("新建")])],1)],1)],1),s("div",{staticClass:"toble"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),s("el-table-column",{attrs:{prop:"taskCode",label:"工单编号",width:"120"}}),s("el-table-column",{attrs:{prop:"innerCode",label:"设备编号",width:"120"}}),s("el-table-column",{attrs:{prop:"taskType.typeName",label:"工单类型",width:"120"}}),s("el-table-column",{attrs:{prop:"createType",label:"工单方式",formatter:t.tasCreateType,width:"120"}}),s("el-table-column",{attrs:{prop:"taskStatusTypeEntity.statusId",label:"工单状态",formatter:t.tasStatusId,width:"100"}}),s("el-table-column",{attrs:{prop:"userName",label:"运营人员",width:"120"}}),s("el-table-column",{attrs:{prop:"updateTime",label:"创建日期",width:"160"}}),s("el-table-column",{attrs:{prop:"name",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[s("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return t.handleClick(a)}}},[t._v("查看详情")])]}}])})],1),s("el-dialog",{attrs:{title:"新增工单",visible:t.dialogTableVisible,width:"40%"},on:{close:t.onclose,"update:visible":function(e){t.dialogTableVisible=e}}},[s("el-form",{ref:"form",attrs:{"label-width":"100px"}},[s("el-form-item",{attrs:{label:"设备编号"}},[s("el-input",{attrs:{placeholder:"请输入"}})],1),s("el-form-item",{attrs:{label:"工单类型"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:t.staff,callback:function(e){t.staff=e},expression:"staff"}},[s("el-option",{attrs:{label:"区域一",value:"shanghai"}})],1)],1),s("el-row",{attrs:{gutter:20,type:"flex",justify:"space-around"}},[s("el-col",{attrs:{span:10}})],1),s("el-form-item",{attrs:{label:"运营人员"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择活动区域"},model:{value:t.operator,callback:function(e){t.operator=e},expression:"operator"}},[s("el-option",{attrs:{label:"区域一",value:"shanghai"}})],1)],1),s("el-form-item",{attrs:{label:"备注"}},[s("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"1-300个字符",type:"textarea",rows:3}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.onclose}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"工单详情",visible:t.dialogVisibles,width:"630px","custom-class":"el-dialog1"},on:{"update:visible":function(e){t.dialogVisibles=e},close:t.onclose}},[s("div",{staticClass:"top"},[s("el-button",{staticClass:"cancel",attrs:{icon:"el-icon-close"},on:{click:function(e){return t.$emit("changeVis")}}})],1),s("div",{staticClass:"body"},[s("div",{staticClass:"body-top"},[s("img",{attrs:{src:a("da1f"),alt:""}}),s("span",[t._v("取消")]),s("img",{attrs:{src:a("4c2b"),alt:""}})]),s("el-form",[s("el-row",[s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"设备编号:"}},[s("span",[t._v(t._s(t.DetailsFrom.innerCode))])])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"创建日期:"}},[s("span",[t._v(t._s(t.DetailsFrom.createTime))])])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"运营人员:"}},[s("span",[t._v(t._s(t.DetailsFrom.userName))])])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"工单类型:"}},[s("span",[t._v("自动")])])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"工单方式:"}},[s("span",[t._v(t._s(0==t.DetailsFrom.createType?"自动":"手动"))])])],1),s("el-col",{attrs:{span:12}},[s("el-form-item",{attrs:{label:"备注:"}},[s("span",[t._v(t._s(t.DetailsFrom.desc))])])],1)],1)],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"rebuild",on:{click:function(e){t.dialogTableVisible=!0}}},[t._v("重新创建")])],1)]),t.regionData.totalCount?s("pagenation",{attrs:{listIsShow:this.lastDisabled&&this.rightDisabled,taskList:t.regionData,lastDisabled:t.lastDisabled,rightDisabled:t.rightDisabled},on:{lastPage:t.getLastTaskService,nextPage:t.getNextTaskService}}):t._e()],1)])},l=[];function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var n,r=a("c7eb"),o=a("1da1"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.listIsShow?t._e():a("div",{staticClass:"total"},[a("span",[t._v("共"+t._s(t.taskList.totalCount)+"条数据 第"+t._s(t.taskList.pageIndex)+"/ "+t._s(Math.ceil(t.taskList.totalCount/10))+"页")]),a("div",{staticClass:"page-button"},[a("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.lastDisabled},on:{click:t.lastPage}},[t._v("上一页 ")]),a("MyButton",{attrs:{btnStyle:t.pageBtnStyle,disabled:t.rightDisabled},on:{click:t.nextPage}},[t._v("下一页 ")])],1)])},u=[],d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mybutton"},[a("el-button",{class:{disabled:t.disabled},style:t.btnStyle,attrs:{disabled:t.disabled,type:"primary",icon:t.icon},on:{click:t.clickFn}},[t._t("lastIcon"),t._t("default")],2)],1)},p=[],b={name:"MyButton",data:function(){return{}},props:{icon:{type:String},btnStyle:{type:Object},disabled:{type:Boolean,default:!1}},created:function(){},methods:{clickFn:function(){this.$emit("click")}},computed:{}},f=b,m=(a("66f6"),a("2877")),h=Object(m["a"])(f,d,p,!1,null,"394e9bf4",null),g=h.exports,v={name:"FooterPage",data:function(){return{pageBtnStyle:{background:"#d5ddf8",width:"70px",height:"32px",color:"#000",fontWeight:"400",marginLeft:"25px"}}},props:{listIsShow:{type:Boolean},taskList:{type:Object},lastDisabled:{type:Boolean},rightDisabled:{type:Boolean}},created:function(){},methods:{lastPage:function(){this.$emit("lastPage")},nextPage:function(){this.$emit("nextPage")}},computed:{},components:{MyButton:g}},w=v,k=(a("a92c"),Object(m["a"])(w,c,u,!1,null,"77c32e18",null)),y=k.exports,C=a("b199"),x=a("b775");function D(t){return Object(x["a"])({url:"/api/task-service/task/taskInfo/".concat(t),method:"GET"})}var S={data:function(){return{regionData:{},params:{pageIndex:1,pageSize:10,isRepair:!0},formInline:{user:"",region:""},tableData:[],creation:[],dialogVisible:!0,operator:"",staff:"",dialogTableVisible:!1,innerCode:this.innerCode,dialogVisibles:!1,DetailsFrom:[]}},methods:(n={tasCreateType:function(t){return"1"===t.createType?"自动":"手动"},tasStatusId:function(t,e,a){return["待办","进行","取消","完成"][a]},searchTasks:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(C["d"])(t.params);case 2:a=e.sent,t.tableData=a.data.currentPageRecords,t.regionData=a.data;case 5:case"end":return e.stop()}}),e)})))()},onclose:function(){this.$emit("update:visible",!1)},handleClick:function(t){var e=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.creation=t,a.next=3,D(t.taskId);case 3:s=a.sent,e.DetailsFrom=s.data,console.log(s.data),e.dialogVisibles=!0;case 7:case"end":return a.stop()}}),a)})))()}},i(n,"onclose",(function(){this.$emit("update:visible",!1)})),i(n,"getNextTaskService",(function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.params.pageIndex++,t.searchTasks();case 2:case"end":return e.stop()}}),e)})))()})),i(n,"getLastTaskService",(function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.params.pageIndex--,t.searchTasks();case 2:case"end":return e.stop()}}),e)})))()})),n),components:{pagenation:y},created:function(){this.searchTasks()},computed:{lastDisabled:function(){return this.regionData.pageIndex<=1},rightDisabled:function(){return this.regionData.pageIndex==Math.ceil(this.regionData.totalCount/10)}}},I=S,T=(a("3100"),Object(m["a"])(I,s,l,!1,null,"578ed878",null));e["default"]=T.exports},"4c2b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAABqUlEQVRIS72WvUrDUBTH/6cGMjq4qO0DOFgQSocbcBFUnDWvURQER+0oCEpfI+5ii12E3KEEBB18gEZdHNwMxBy5tQ39sr1JaDLmnv/93Xu+7iHM+SzL2gRwxMzbADYArPQlnwBeiegRwK3rui+ztqL/Fi3L2mLmSwB78w7TX28S0Znruk/T7CdAtm0vdbvdK2auEVFBE9IzY+aIiBqlUunUcZyfYe0IqFKpLJum6TDzbhLAuC0RtYIgsD3P+xqsxSB1E9/377JC4o2JWsVi8WBwsxgkhLgGcJzlJlO0N1LKE/W/B1KBj6LI04iJE4ZhTWkMw2gAsGcdTMWsUChUVIL0QEKIe53sCsNwrdPpfChNtVpdNQzjXcMDTSnlPqk6YeZnDQFSgkBEZQW6YOZzHRCARK4bSow6CSEeAOxogtKatRXIB7Cus4OUcqTuhBCsowPwpkDfAEwdQQZQkCsoN9dpJ0MG17UTpXdaEBHVExVsBlA5UQtKCfprQQmbqk4VxDYTTbXfWBf/TChQbg+fguXylA8cm8twMhzphY9b42klhCgT0WHWAfIXFPYBcBvJ9uQAAAAASUVORK5CYII="},"66f6":function(t,e,a){"use strict";a("a7d9")},a7d9:function(t,e,a){},a92c:function(t,e,a){"use strict";a("cf66")},b199:function(t,e,a){"use strict";a.d(e,"d",(function(){return l}));var s=a("b775"),l=function(){return Object(s["a"])({url:"/api/task-service/task/search"})}},cf66:function(t,e,a){},da1f:function(t,e,a){t.exports=a.p+"static/img/9946c6e60f58eadfdf1bc9fe9cb1462.e8208e34.png"}}]);