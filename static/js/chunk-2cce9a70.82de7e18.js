(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cce9a70"],{1252:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"form",attrs:{form:e.formData,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"设备名搜索："}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index"}}),a("el-table-column",{attrs:{prop:"name",label:"型号名称",width:"120"}}),a("el-table-column",{attrs:{prop:"model",label:"型号编码",width:"120"}}),a("el-table-column",{attrs:{label:"设备图片",width:"120"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.image}})]}}])}),a("el-table-column",{attrs:{prop:"vmRow",label:"货道行",width:"120"}}),a("el-table-column",{attrs:{prop:"vmCol",label:"货道列",width:"120"}}),a("el-table-column",{attrs:{prop:"channelMaxCapacity",label:"设备容量",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("vmEdit",{attrs:{dialogVisible:e.dialogVisible,dataInfo:e.dataInfo},on:{close:e.onClose}})],1)},r=[],o=a("c7eb"),c=a("1da1"),i=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"修改设备类型",visible:e.dialogVisible,width:"50%","before-close":e.handleClose}},[a("el-form",{ref:"form",attrs:{model:e.formData,rules:e.formRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"型号名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入型号名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),a("el-form-item",{attrs:{label:"型号编码",prop:"model"}},[a("el-input",{attrs:{placeholder:"请输入型号编码"},model:{value:e.formData.model,callback:function(t){e.$set(e.formData,"model",t)},expression:"formData.model"}})],1),a("el-form-item",{attrs:{label:"货道行数",prop:"vmRow"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1},model:{value:e.formData.vmRow,callback:function(t){e.$set(e.formData,"vmRow",t)},expression:"formData.vmRow"}})],1),a("el-form-item",{attrs:{label:"货道列数",prop:"vmCol"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1},model:{value:e.formData.vmCol,callback:function(t){e.$set(e.formData,"vmCol",t)},expression:"formData.vmCol"}})],1),a("el-form-item",{attrs:{label:"货道容量",prop:"channelMaxCapacity"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{"controls-position":"right",min:1},model:{value:e.formData.channelMaxCapacity,callback:function(t){e.$set(e.formData,"channelMaxCapacity",t)},expression:"formData.channelMaxCapacity"}})],1),a("el-form-item",{attrs:{label:"设备图片",prop:"code"}},[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.formData.image}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSave(e.formData)}}},[e._v("确 定")])],1)],1)}),l=[],s=a("7017"),u={data:function(){return{formData:{vmName:"",vmCode:"",vmRowNum:1,vmColNum:1,vmMax:1},formRules:{}}},props:{dialogVisible:{type:Boolean,required:!0},dataInfo:{type:Object,required:!0}},created:function(){},watch:{dataInfo:{handler:function(){this.formData=this.dataInfo,console.log(this.formData)},deep:!0}},methods:{handleClose:function(){this.$emit("close")},onSave:function(e){return Object(c["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,Object(s["e"])(e);case 3:a=t.sent,console.log(a);case 5:case"end":return t.stop()}}),t)})))()}}},m=u,d=a("2877"),f=Object(d["a"])(m,i,l,!1,null,"0515f466",null),p=f.exports,b={data:function(){return{form:{},tableData:[],dialogVisible:!1,dataInfo:{},formData:{name:""}}},components:{vmEdit:p},created:function(){this.getVms()},methods:{getVms:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["p"])();case 2:a=t.sent,console.log(a),e.tableData=a.data.currentPageRecords;case 5:case"end":return t.stop()}}),t)})))()},handleEdit:function(e,t){this.dialogVisible=!0,this.dataInfo=t},handleDelete:function(e,t){var a=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(t.typeId);case 2:n=e.sent,console.log(n),a.getVms();case 5:case"end":return e.stop()}}),e)})))()},onClose:function(){this.dialogVisible=!1},search:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){var a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["p"])(e.formData.name);case 2:a=t.sent,console.log(a),e.tableData=a.data.currentPageRecords;case 5:case"end":return t.stop()}}),t)})))()}}},h=b,v=(a("45e0"),Object(d["a"])(h,n,r,!1,null,"5aff1f7a",null));t["default"]=v.exports},"45e0":function(e,t,a){"use strict";a("9349")},7017:function(e,t,a){"use strict";a.d(t,"p",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"n",(function(){return i})),a.d(t,"l",(function(){return l})),a.d(t,"i",(function(){return s})),a.d(t,"h",(function(){return u})),a.d(t,"k",(function(){return m})),a.d(t,"o",(function(){return d})),a.d(t,"f",(function(){return f})),a.d(t,"m",(function(){return p})),a.d(t,"d",(function(){return b})),a.d(t,"j",(function(){return h})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return w})),a.d(t,"g",(function(){return j}));a("99af");var n=a("b775"),r=function(e){return Object(n["a"])({url:"/api/vm-service/vmType/search",params:{name:e}})},o=function(e){return Object(n["a"])({url:"/api/vm-service/vmType/"+e,method:"DELETE"})},c=function(e){return Object(n["a"])({url:"/api/vm-service/vmType/"+e.typeId,Headers:{"Content-Type":"application/json"},method:"PUT",data:e})},i=function(e,t){return Object(n["a"])({url:"/api/vm-service/vm/search",params:{pageIndex:e,innerCode:t}})},l=function(e,t,a,r,o,c){return Object(n["a"])({url:"/api/order-service/report/skuCollect/".concat(e,"/").concat(t,"/").concat(a),data:{vmType:r,nodeId:o,createUserId:c}})},s=function(e,t,a){return Object(n["a"])({url:"/api/order-service/report/orderCount",params:{innerCode:e,start:t,end:a}})},u=function(e,t,a){return Object(n["a"])({url:"/api/order-service/report/orderAmount",params:{innerCode:e,start:t,end:a}})},m=function(e,t,a,r,o,c){return Object(n["a"])({url:"/api/task-service/task/repairCount/".concat(e,"/").concat(t,"/").concat(a),data:{vmType:r,nodeId:o,createUserId:c}})},d=function(e,t,a,r,o,c){return Object(n["a"])({url:"/api/task-service/task/supplyCount/".concat(e,"/").concat(t,"/").concat(a),data:{vmType:r,nodeId:o,createUserId:c}})},f=function(e){return Object(n["a"])({url:"/api/vm-service/channel/channelList/"+e})},p=function(e,t){return Object(n["a"])({url:"/api/vm-service/sku/search",params:{pageIndex:e,skuName:t}})},b=function(e,t){return Object(n["a"])({url:"/api/vm-service/channel/channelConfig",method:"PUT",Headers:{"Content-Type":"application/json"},data:{innerCode:e,channelList:t}})},h=function(){return Object(n["a"])({url:"/api/vm-service/policy"})},v=function(e){return Object(n["a"])({url:"/api/vm-service/vm/applyPolicy",method:"PUT",data:e})},w=function(e){return Object(n["a"])({url:"/api/vm-service/node/"+e.id,method:"PUT",data:e})},j=function(){return Object(n["a"])({url:"/api/vm-service/node/search"})}},9349:function(e,t,a){}}]);