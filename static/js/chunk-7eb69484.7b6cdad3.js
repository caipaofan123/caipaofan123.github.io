(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7eb69484"],{1148:function(e,t,a){"use strict";var r=a("a691"),n=a("1d80");e.exports="".repeat||function(e){var t=String(n(this)),a="",s=r(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},"2f61":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return c})),a.d(t,"c",(function(){return u}));var r=a("b775"),n=function(){return Object(r["a"])({url:"/api/vm-service/skuClass/search"})},s=function(e){return Object(r["a"])({url:"/api/vm-service/skuClass/".concat(e),method:"DELETE"})},l=function(e){return Object(r["a"])({url:"/api/vm-service/skuClass",method:"POST",data:{className:e}})},o=function(e,t){return Object(r["a"])({url:"/api/vm-service/skuClass/".concat(e.classId),method:"put",data:{className:t}})},i=function(){return Object(r["a"])({url:"/api/vm-service/skuClass/search"})},c=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(r["a"])({url:"/api/vm-service/sku/search",params:{orderNo:e,pageIndex:t,pageSize:a}})},u=function(e){return Object(r["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:e})}},"408a":function(e,t,a){var r=a("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},"6fbc":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sku_container"},[a("div",{staticClass:"skuHeader"},[[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品搜索："}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.skuName,callback:function(t){e.skuName=t},expression:"skuName"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.searchSkuName}},[e._v("查询")])],1)],1)],1)]],2),a("div",{staticClass:"skuContent"},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"warning"}},[e._v("新建")]),a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"warning"}},[e._v("导入数据")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"skuName",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"className",label:"商品图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticClass:"skuImgs",attrs:{src:e.row.skuImage,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌"}}),a("el-table-column",{attrs:{prop:"unit",label:"规格"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格",formatter:e.tasCreatePrice}}),a("el-table-column",{attrs:{prop:"skuClass.className",label:"商品类型"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:e.uptsku}},[e._v("修改")])]}}])})],1),a("div",{staticClass:"sku_bottom"},[a("div",{staticClass:"pages"},[e._v(" 共"+e._s(e.pages.totalCount)+"条记录 第"+e._s(e.pages.pageIndex)+"/"+e._s(e.pages.totalPage)+" 页 ")]),a("el-row",[a("el-button",{attrs:{type:"primary",disabled:e.disabled,plain:""},on:{click:e.upPage}},[e._v("上一页")]),a("el-button",{attrs:{type:"success",disabled:e.disabled1,plain:""},on:{click:e.downPage}},[e._v("下一页")])],1)],1)]],2),[a("div",[a("el-dialog",{attrs:{title:"修改商品",visible:e.dialogVisible,width:"630px"},on:{close:e.btnCancel}},[a("el-form",{ref:"formData",attrs:{"v-model":e.formData,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"skuName"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.formData.skuName,callback:function(t){e.$set(e.formData,"skuName",t)},expression:"formData.skuName"}})],1),a("el-form-item",{attrs:{label:"品牌",prop:"brandName"}},[a("el-input",{attrs:{"show-word-limit":"",maxlength:"10"},model:{value:e.formData.brandName,callback:function(t){e.$set(e.formData,"brandName",t)},expression:"formData.brandName"}})],1),a("el-form-item",{attrs:{label:"商品价格(元)：",prop:"price"}},[a("el-input-number",{attrs:{"controls-position":"right",min:.01,max:10},on:{change:e.handleChange},model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}})],1),a("el-form-item",{attrs:{label:"商品类型",prop:"classId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择商品类型"},model:{value:e.formData.classId,callback:function(t){e.$set(e.formData,"classId",t)},expression:"formData.classId"}})],1),a("el-form-item",{attrs:{label:"规格",prop:"unit"}},[a("el-input",{attrs:{"show-word-limit":"",maxlength:"10"},model:{value:e.formData.unit,callback:function(t){e.$set(e.formData,"unit",t)},expression:"formData.unit"}})],1),a("el-form-item",{attrs:{label:"商品图片",prop:""}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.formData.skuImage?a("img",{staticClass:"avatar",attrs:{src:e.formData.skuImage}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),a("div",{staticClass:"el_upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(" 仅支持扩展名为jpg/png文件，且不超过100kb ")])])],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.btnCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)],1)]],2)},n=[],s=a("c7eb"),l=a("1da1"),o=(a("b680"),a("2f61")),i={data:function(){return{aa:"",imageUrl:"",disabled:!1,disabled1:!1,tableData:[],pages:[],dialogVisible:!1,num:1,skuName:"",pageIndex:1,formData:{skuImage:"",unit:"",classId:"",price:"",brandName:"",skuName:"",skuId:""}}},created:function(){this.searchsku()},methods:{searchsku:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["f"])();case 2:a=t.sent,e.tableData=a.data.currentPageRecords,e.pages=a.data,console.log(a);case 6:case"end":return t.stop()}}),t)})))()},tasCreatePrice:function(e){var t=e.price/100;return t.toFixed(2)},btnCancel:function(){this.dialogVisible=!1},handleChange:function(){console.log(1)},onSave:function(){console.log(1)},uptsku:function(){this.dialogVisible=!0},searchSkuName:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.skuName),t.next=3,Object(o["f"])(e.skuName);case 3:a=t.sent,e.tableData=a.data.currentPageRecords,e.pages=a.data;case 6:case"end":return t.stop()}}),t)})))()},upPage:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.pageIndex<=1)){t.next=4;break}e.disabled=!0,t.next=10;break;case 4:return e.disabled1=!1,t.next=7,Object(o["f"])(e.skuName="",e.pageIndex=e.pageIndex-1);case 7:a=t.sent,e.tableData=a.data.currentPageRecords,e.pages=a.data;case 10:case"end":return t.stop()}}),t)})))()},downPage:function(){var e=this;return Object(l["a"])(Object(s["a"])().mark((function t(){var a;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.pageIndex===+e.pages.totalPage-1&&(console.log(e.pages.totalPage.totalPage),e.disabled1=!0),e.disabled=!1,t.next=4,Object(o["f"])(e.skuName="",e.pageIndex=e.pageIndex+1);case 4:a=t.sent,e.tableData=a.data.currentPageRecords,e.pages=a.data;case 7:case"end":return t.stop()}}),t)})))()},handleAvatarSuccess:function(e,t){var a=this;return Object(l["a"])(Object(s["a"])().mark((function r(){var n,l;return Object(s["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),console.log(t),n=new FormData,n.append("fileName",t.raw),r.next=6,Object(o["c"])(n);case 6:l=r.sent,a.formData.skuImage=l;case 8:case"end":return r.stop()}}),r)})))()},beforeAvatarUpload:function(e){console.log(e);var t="image/jpeg"===e.type,a="image/png"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG ISPNG格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r||a&&r}}},c=i,u=(a("7175"),a("2877")),p=Object(u["a"])(c,r,n,!1,null,"77e277fe",null);t["default"]=p.exports},7175:function(e,t,a){"use strict";a("a9ff")},a9ff:function(e,t,a){},b680:function(e,t,a){"use strict";var r=a("23e7"),n=a("a691"),s=a("408a"),l=a("1148"),o=a("d039"),i=1..toFixed,c=Math.floor,u=function(e,t,a){return 0===t?a:t%2===1?u(e,t-1,a*e):u(e*e,t/2,a)},p=function(e){var t=0,a=e;while(a>=4096)t+=12,a/=4096;while(a>=2)t+=1,a/=2;return t},d=i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){i.call({})}));r({target:"Number",proto:!0,forced:d},{toFixed:function(e){var t,a,r,o,i=s(this),d=n(e),f=[0,0,0,0,0,0],m="",b="0",g=function(e,t){var a=-1,r=t;while(++a<6)r+=e*f[a],f[a]=r%1e7,r=c(r/1e7)},v=function(e){var t=6,a=0;while(--t>=0)a+=f[t],f[t]=c(a/e),a=a%e*1e7},h=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==f[e]){var a=String(f[e]);t=""===t?a:t+l.call("0",7-a.length)+a}return t};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return String(i);if(i<0&&(m="-",i=-i),i>1e-21)if(t=p(i*u(2,69,1))-69,a=t<0?i*u(2,-t,1):i/u(2,t,1),a*=4503599627370496,t=52-t,t>0){g(0,a),r=d;while(r>=7)g(1e7,0),r-=7;g(u(10,r,1),0),r=t-1;while(r>=23)v(1<<23),r-=23;v(1<<r),g(1,1),v(2),b=h()}else g(0,a),g(1<<-t,0),b=h()+l.call("0",d);return d>0?(o=b.length,b=m+(o<=d?"0."+l.call("0",d-o)+b:b.slice(0,o-d)+"."+b.slice(o-d))):b=m+b,b}})}}]);