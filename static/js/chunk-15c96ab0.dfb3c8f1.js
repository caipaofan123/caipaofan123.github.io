(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15c96ab0"],{"25b2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"skuClss_container"},[a("div",{staticClass:"skuClssHeader"},[[a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"form",attrs:{inline:!0,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"商品类型搜索："}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.searchClass,callback:function(t){e.searchClass=t},expression:"searchClass"}})],1),a("el-form-item",[a("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:e.searchSku}},[e._v("查询")])],1)],1)],1)]],2),a("div",{staticClass:"skuClssContent"},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"warning"},on:{click:e.addSku}},[e._v("新建")]),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),a("el-table-column",{attrs:{prop:"className",label:"商品类型名称",width:"580"}}),a("el-table-column",{attrs:{prop:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.putskuClass(r)}}},[e._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.deleteskuClassApi(r.classId)}}},[e._v("删除")])]}}])})],1)]],2),[a("div",[a("el-dialog",{attrs:{title:e.dialigTitle,visible:e.dialogVisible,width:"55%"},on:{close:e.btnCancel}},[a("el-form",{ref:"roleForm",attrs:{model:e.formData,rules:e.formRules,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"商品类型名称：",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.btnCancel}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)],1)]],2)},s=[],n=a("c7eb"),c=a("1da1"),l=(a("d3b7"),a("b0c0"),a("4de4"),a("2f61")),i={data:function(){var e=this;return{searchClass:"",tableData:[],dialogVisible:!1,skuId:"",formData:{name:""},formRules:{name:[{required:!0,message:"商品类型名称不能为空",trigger:"blur"},{validator:function(t,a,r){var s=e.tableData.some((function(e){return e.className===a}));if(s)return r(new Error("商品名称重复"));r()},trigger:"blur"},{min:1,max:10,message:"商品类型名称要求1-10个字符",trigger:"blur"}]}}},computed:{dialigTitle:function(){return this.skuId?"修改商品类型":"新建商品类型"}},created:function(){this.getSkuClass()},methods:{getSkuClass:function(){var e=this;return Object(c["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["d"])();case 2:a=t.sent,e.tableData=a.data.currentPageRecords;case 4:case"end":return t.stop()}}),t)})))()},addSku:function(){this.dialogVisible=!0},deleteskuClassApi:function(e){var t=this;return Object(c["a"])(Object(n["a"])().mark((function a(){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$confirm("确定删除商品类型吗");case 3:return a.next=5,Object(l["b"])(e);case 5:t.getSkuClass(),t.$message.success(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},putskuClass:function(e){this.formData.name=e.className,this.skuId=e,this.dialogVisible=!0},onSave:function(){var e=this;return Object(c["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.roleForm.validate();case 3:if(!e.skuId){t.next=8;break}return t.next=6,Object(l["e"])(e.data=e.skuId,e.className=e.formData.name);case 6:t.next=10;break;case 8:return t.next=10,Object(l["a"])(e.formData.name);case 10:e.$message.success("操作成功"),e.dialogVisible=!1,e.getSkuClass(),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},searchSku:function(){var e=this;return Object(c["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["g"])();case 2:a=t.sent,console.log(a),e.tableData=a.data.currentPageRecords.filter((function(t){return t.className===e.searchClass}));case 5:case"end":return t.stop()}}),t)})))()},btnCancel:function(){this.formData.name="",this.$refs.roleForm.resetFields(),console.log(this.$refs.roleForm),this.dialogVisible=!1}}},o=i,u=(a("3dc2"),a("2877")),d=Object(u["a"])(o,r,s,!1,null,"6781851a",null);t["default"]=d.exports},"2f61":function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return o})),a.d(t,"c",(function(){return u}));var r=a("b775"),s=function(){return Object(r["a"])({url:"/api/vm-service/skuClass/search"})},n=function(e){return Object(r["a"])({url:"/api/vm-service/skuClass/".concat(e),method:"DELETE"})},c=function(e){return Object(r["a"])({url:"/api/vm-service/skuClass",method:"POST",data:{className:e}})},l=function(e,t){return Object(r["a"])({url:"/api/vm-service/skuClass/".concat(e.classId),method:"put",data:{className:t}})},i=function(){return Object(r["a"])({url:"/api/vm-service/skuClass/search"})},o=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(r["a"])({url:"/api/vm-service/sku/search",params:{orderNo:e,pageIndex:t,pageSize:a}})},u=function(e){return Object(r["a"])({url:"/api/vm-service/sku/fileUpload",method:"POST",headers:{"Content-Type":"multipart/form-data"},data:e})}},"3dc2":function(e,t,a){"use strict";a("5adb")},"4de4":function(e,t,a){"use strict";var r=a("23e7"),s=a("b727").filter,n=a("1dde"),c=a("ae40"),l=n("filter"),i=c("filter");r({target:"Array",proto:!0,forced:!l||!i},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"5adb":function(e,t,a){}}]);