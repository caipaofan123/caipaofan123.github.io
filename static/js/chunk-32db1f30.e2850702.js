(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32db1f30"],{7017:function(e,t,n){"use strict";n.d(t,"p",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"l",(function(){return s})),n.d(t,"i",(function(){return i})),n.d(t,"h",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return C})),n.d(t,"g",(function(){return g}));n("99af");var a=n("b775"),r=function(e){return Object(a["a"])({url:"/api/vm-service/vmType/search",params:{name:e}})},o=function(e){return Object(a["a"])({url:"/api/vm-service/vmType/"+e,method:"DELETE"})},c=function(e){return Object(a["a"])({url:"/api/vm-service/vmType/"+e.typeId,Headers:{"Content-Type":"application/json"},method:"PUT",data:e})},u=function(e,t){return Object(a["a"])({url:"/api/vm-service/vm/search",params:{pageIndex:e,innerCode:t}})},s=function(e,t,n,r,o,c){return Object(a["a"])({url:"/api/order-service/report/skuCollect/".concat(e,"/").concat(t,"/").concat(n),data:{vmType:r,nodeId:o,createUserId:c}})},i=function(e,t,n){return Object(a["a"])({url:"/api/order-service/report/orderCount",params:{innerCode:e,start:t,end:n}})},l=function(e,t,n){return Object(a["a"])({url:"/api/order-service/report/orderAmount",params:{innerCode:e,start:t,end:n}})},d=function(e,t,n,r,o,c){return Object(a["a"])({url:"/api/task-service/task/repairCount/".concat(e,"/").concat(t,"/").concat(n),data:{vmType:r,nodeId:o,createUserId:c}})},p=function(e,t,n,r,o,c){return Object(a["a"])({url:"/api/task-service/task/supplyCount/".concat(e,"/").concat(t,"/").concat(n),data:{vmType:r,nodeId:o,createUserId:c}})},f=function(e){return Object(a["a"])({url:"/api/vm-service/channel/channelList/"+e})},b=function(e,t){return Object(a["a"])({url:"/api/vm-service/sku/search",params:{pageIndex:e,skuName:t}})},m=function(e,t){return Object(a["a"])({url:"/api/vm-service/channel/channelConfig",method:"PUT",Headers:{"Content-Type":"application/json"},data:{innerCode:e,channelList:t}})},v=function(){return Object(a["a"])({url:"/api/vm-service/policy"})},h=function(e){return Object(a["a"])({url:"/api/vm-service/vm/applyPolicy",method:"PUT",data:e})},C=function(e){return Object(a["a"])({url:"/api/vm-service/node/"+e.id,method:"PUT",data:e})},g=function(){return Object(a["a"])({url:"/api/vm-service/node/search"})}},"738f":function(e,t,n){},b7b7:function(e,t,n){"use strict";n("738f")},e4bd:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card"},[n("el-form",{ref:"form",attrs:{form:e.formData,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"设备编号："}},[n("el-input",{model:{value:e.formData.innerCode,callback:function(t){e.$set(e.formData,"innerCode",t)},expression:"formData.innerCode"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("查询")])],1)],1)],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[n("el-table-column",{attrs:{label:"序号",type:"index"}}),n("el-table-column",{attrs:{prop:"innerCode",label:"设备编号",width:"120"}}),n("el-table-column",{attrs:{prop:"type.name",label:"设备型号",width:"120"}}),n("el-table-column",{attrs:{prop:"node.name",label:"详细地址",width:"120"}}),n("el-table-column",{attrs:{prop:"vmStatus",label:"运营状态",width:"120",formatter:e.formatter}}),n("el-table-column",{attrs:{prop:"status",label:"设备状态",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:t.row.status["10001"]?"success":"danger"}},[e._v("离线")]),n("el-tag",{attrs:{type:t.row.status["10002"]?"success":"danger"}},[e._v("货道")]),n("el-tag",{attrs:{type:t.row.status["10003"]?"success":"danger"}},[e._v("传动轴")])]}}])}),n("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.handleEdit(t.$index,t.row)}}},[e._v("查看详情")])]}}])})],1),n("el-pagination",{attrs:{layout:"prev, pager, next",total:e.totalCount},on:{"current-change":e.handleCurrentChange}}),n("b",{staticStyle:{color:"red"}},[n("span",[e._v("共"+e._s(e.pageInfo.totalCount)+"条记录 第 "+e._s(e.pageInfo.pageIndex)+"/"+e._s(e.pageInfo.totalPage)+" 页")])]),n("vmsales",{attrs:{dialogVisible:e.dialogVisible,dataInfo:e.dataInfo,dataCount:e.dataCount},on:{close:e.onClose}})],1)},r=[],o=n("c7eb"),c=n("1da1"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"设备详情",visible:e.dialogVisible,width:"50%","before-close":e.handleClose}},[n("b",[e._v("商品销售量"+e._s(e.dataCount.orderCount)+" 个")]),n("br"),n("b",[e._v("销售额"+e._s(e.dataCount.orderAmount)+" 元")]),n("br"),n("b",[e._v("补货次数"+e._s(e.dataCount.supplyCount)+" 次 ")]),n("br"),n("b",[e._v("维修次数"+e._s(e.dataCount.repairCount)+" 次")]),n("hr"),e._v(" 商品销量： "),n("hr"),e._l(e.dataInfo,(function(t,a){return n("div",{key:a},[n("b",[e._v(e._s(t.skuName))]),e._v(":"+e._s(t.count)+" ")])}))],2)},s=[],i=n("7017"),l={data:function(){return{formData:{vmName:"",vmCode:"",vmRowNum:1,vmColNum:1,vmMax:1},formRules:{}}},props:{dialogVisible:{type:Boolean,required:!0},dataInfo:{type:Array,required:!0},dataCount:{type:Object,required:!0}},created:function(){},methods:{handleClose:function(){this.$emit("close")},onSave:function(e){return Object(c["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,Object(i["e"])(e);case 3:n=t.sent,console.log(n);case 5:case"end":return t.stop()}}),t)})))()}}},d=l,p=n("2877"),f=Object(p["a"])(d,u,s,!1,null,"2529f934",null),b=f.exports,m={data:function(){return{tableData:[],totalCount:9,data:{},dialogVisible:!1,dataInfo:[],dataCount:{},pageInfo:{},formData:{innerCode:""}}},components:{vmsales:b},created:function(){this.getStatus()},methods:{getStatus:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["n"])();case 2:n=t.sent,console.log(n),e.totalCount=parseInt(n.data.totalCount),e.tableData=n.data.currentPageRecords,e.pageInfo=n.data;case 7:case"end":return t.stop()}}),t)})))()},handleEdit:function(e,t){var n=this;return Object(c["a"])(Object(o["a"])().mark((function e(){var a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.dialogVisible=!0,e.next=3,Object(i["i"])(t.innerCode,"2020-01-01 00:00:00","2022-08-08 00:00:00");case 3:return n.dataCount.orderCount=e.sent.data,console.log(n.dataCount.orderCount),e.next=7,Object(i["h"])(t.innerCode,"2020-01-01 00:00:00","2022-08-08 00:00:00");case 7:return n.dataCount.orderAmount=e.sent.data,console.log(n.dataCount.orderAmount),e.next=11,Object(i["k"])(t.innerCode,"2020-01-01","2022-08-08",t.vmType,t.nodeId,t.createUserId);case 11:return n.dataCount.repairCount=e.sent.data,console.log(n.dataCount.repairCount),e.next=15,Object(i["o"])(t.innerCode,"2020-01-01","2022-08-08",t.vmType,t.nodeId,t.createUserId);case 15:return n.dataCount.supplyCount=e.sent.data,console.log(n.dataCount.supplyCount),console.log(n.dataCount),e.next=20,Object(i["l"])(t.innerCode,"2020-01-01","2022-08-08",t.vmType,t.nodeId,t.createUserId);case 20:a=e.sent,console.log(a),n.dataInfo=a.data;case 23:case"end":return e.stop()}}),e)})))()},handleCurrentChange:function(e){var t=this;return Object(c["a"])(Object(o["a"])().mark((function n(){var a;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("当前页: ".concat(e)),n.next=3,Object(i["n"])(e);case 3:a=n.sent,t.tableData=a.data.currentPageRecords,t.pageInfo.pageIndex=e;case 6:case"end":return n.stop()}}),n)})))()},getSales:function(){return Object(c["a"])(Object(o["a"])().mark((function e(){var t;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["l"])();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))()},onClose:function(){this.dialogVisible=!1},search:function(){var e=this;return Object(c["a"])(Object(o["a"])().mark((function t(){var n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["n"])("",e.formData.innerCode);case 2:n=t.sent,console.log(n),e.tableData=n.data.currentPageRecords;case 5:case"end":return t.stop()}}),t)})))()},formatter:function(e,t){return["未投放","运营","12","撤机"][e.vmStatus]}}},v=m,h=(n("b7b7"),Object(p["a"])(v,a,r,!1,null,"661f1024",null));t["default"]=h.exports}}]);